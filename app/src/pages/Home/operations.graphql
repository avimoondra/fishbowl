mutation StartGame($clientUuid: uuid!) {
  insert_games_one(
    object: { players: { data: [{ client_uuid: $clientUuid }] } }
  ) {
    id
    join_code
    players {
      id
      client_uuid
    }
  }
}

mutation BecomeHost($gameId: uuid!, $playerId: uuid!) {
  update_games_by_pk(
    pk_columns: { id: $gameId }
    _set: { host_id: $playerId }
  ) {
    id
    join_code
    starting_letter
    seconds_per_turn
    num_entries_per_player
  }
}

mutation JoinGame($gameId: uuid!, $clientUuid: uuid!) {
  insert_players_one(
    object: { game_id: $gameId, client_uuid: $clientUuid }
    on_conflict: {
      constraint: players_client_uuid_game_id_key
      update_columns: [client_uuid]
    }
  ) {
    id
    client_uuid
    game_id
  }
}
